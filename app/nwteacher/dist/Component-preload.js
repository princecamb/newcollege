//@ui5-bundle nwteacher/Component-preload.js
sap.ui.require.preload({
	"nwteacher/Component.js":function(){
sap.ui.define(["sap/fe/core/AppComponent"],function(e){"use strict";return e.extend("nwteacher.Component",{metadata:{manifest:"json"}})});
},
	"nwteacher/ext/controller/MainTeacherContro.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/ControllerExtension","jquery.sap.global","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,jQuery,t,o){"use strict";var r;return e.extend("nwteacher.ext.controller.MainTeacherContro",{override:{onInit:function(){var e=this.base.getExtensionAPI().getModel();var t=(new sap.ushell.services.UserInfo).getEmail();r=t;alert(r)},onBeforeRendering:async function(){debugger;var e=this.base.getExtensionAPI().getModel();if(!e){console.error("Model is not available.");return}var t;if(typeof e.getServiceUrl==="function"){t=e.getServiceUrl();console.log("Service URL:",t)}else{console.error("Unable to determine the service URL.");return}const o=this.base.getView().getContent()[0].mAggregations.content.mAggregations.content.mAssociations.filter;try{const e=await new Promise((e,o)=>{jQuery.ajax({url:t+"/Department",method:"GET",dataType:"json",success:function(t){e(t)},error:function(e,t,r){o(new Error(t+": "+r))}})});console.log("Fetched data:",e);if(e&&e.value){e.value.forEach(function(e){console.log("Department Name:",e.DepartmentName)})}else{console.log("No data found or invalid response format")}}catch(e){console.error("Error fetching data",e)}try{const e=await new Promise((e,o)=>{jQuery.ajax({url:t+"/AAuthorized",method:"GET",dataType:"json",success:function(t){e(t)},error:function(e,t,r){o(new Error(t+": "+r))}})});console.log("Fetched Authorization data:",e);var n;if(e&&e.value){e.value.forEach(function(e){if(e.authEmail===r){n=e.authName}}.bind(this))}else{console.log("No data found or invalid response format")}var a=this.getView().findAggregatedObjects(true,function(e){return e.isA("sap.ui.table.Table")||e.isA("sap.m.Table")})[0];debugger;var i=a.getBinding("items");if(n!=="Owner"){this.base.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Button")}).forEach(function(e){if(e.getId().includes("Create")||e.getId().includes("Delete")){e.setVisible(false)}});this.base.getView().findAggregatedObjects(true,function(e){return e.isA("sap.fe.macros.controls.FilterBar")}).forEach(function(e){e.setVisible(true)});this.base.getView().getContent()[0].mAggregations.header.mAggregations.content[0].mAggregations.items[0].mAggregations.content.setFilterConditions({$editState:[{operator:"DRAFT_EDIT_STATE",values:["ALL_HIDING_DRAFTS"],validated:"Validated"}]})}}catch(e){console.error("Error fetching Roll data",e)}}}})});
},
	"nwteacher/ext/controller/TeachObjContr.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/ControllerExtension","jquery.sap.global"],function(e,jQuery){"use strict";var t;return e.extend("nwteacher.ext.controller.TeachObjContr",{override:{onInit:function(){debugger;var e=this.base.getExtensionAPI().getModel();var o=(new sap.ushell.services.UserInfo).getEmail();t=o;var n=this.getView().createId("uploadSet-uploadButton");var a=sap.ui.getCore().byId(n);if(a){console.log("Upload button ID:",a.getId())}},routing:{onBeforeBinding:async function(e){debugger;console.log("onBeforeBinding called with context:",e);if(e){console.log("Binding Context Path:",e.getPath())}else{console.log("No binding context available.");return}var t=this.base.getExtensionAPI().getModel();if(!t){console.error("Model is not available.");return}var o;if(typeof t.getServiceUrl==="function"){o=t.getServiceUrl();console.log("Service URL:",o)}else{console.error("Unable to determine the service URL.");return}this.adjustUIControls();await this.fetchAndProcessData(o)}}},adjustUIControls:function(){var e=this;setTimeout(function(){e.base.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Button")||e.isA("sap.m.DatePicker")||e.isA("sap.m.Input")||e.isA("sap.m.TextArea")||e.isA("sap.m.ComboBox")}).forEach(function(e){var t=e.getId();console.log("Control ID: ",t);debugger;if(e.isA("sap.m.Button")&&t.includes("Save")&&e.getText().includes("Create")){e.setText("Send for approval")}if(e.isA("sap.m.Button")&&t.includes("Save")&&e.getVisible()===true){debugger;var o=this.base.getView();var n=o.findAggregatedObjects(true);var a=n.filter(function(e){return e.getId().includes("uploadSet-uploader")||e.getId().includes("uploadSet-uploadButton")});a.forEach(function(e){e.setVisible(true)});var r=n.filter(function(e){return e.getId().includes("uploadSet")});r.forEach(function(e){console.log("Control ID:",e.getId());console.log("Control Type:",e.getMetadata().getName());if(e.isA("sap.m.Button")&&e.getId().includes("deleteButton")){e.setVisible(true);e.setEnabled(true)}if(e.isA("sap.m.Button")&&e.getId().includes("editButton")){e.setVisible(true);e.setEnabled(true)}});r.forEach(function(e){try{e.setUploadEnabled(true)}catch(t){console.log("Error setting UploadEnabled to false for control: ",e.getId(),t)}})}if(e.isA("sap.m.Button")&&t.includes("Save")&&e.getVisible()===false){debugger;var o=this.base.getView();var n=o.findAggregatedObjects(true);var a=n.filter(function(e){return e.getId().includes("uploadSet-uploader")||e.getId().includes("uploadSet-uploadButton")});a.forEach(function(e){e.setVisible(false)});var r=n.filter(function(e){return e.getId().includes("uploadSet")});r.forEach(function(e){console.log("Control ID:",e.getId());console.log("Control Type:",e.getMetadata().getName());if(e.isA("sap.m.Button")&&e.getId().includes("deleteButton")){e.setVisible(false);e.setEnabled(false)}if(e.isA("sap.m.Button")&&e.getId().includes("editButton")){e.setVisible(false);e.setEnabled(false)}});r.forEach(function(e){try{e.setUploadEnabled(false)}catch(t){console.log("Error setting UploadEnabled to false for control: ",e.getId(),t)}})}if(e.isA("sap.m.Input")&&t.includes("Age")){e.setEditable(false)}}.bind(e))}.bind(e),800)},fetchAndProcessData:async function(e){var o=this;try{const t=await new Promise((t,o)=>{jQuery.ajax({url:e+"/Department",method:"GET",dataType:"json",success:function(e){t(e)},error:function(e,t,n){o(new Error(t+": "+n))}})});console.log("Fetched data:",t);if(t&&t.value){t.value.forEach(function(e){console.log("Department Name:",e.DepartmentName)})}else{console.log("No data found or invalid response format")}}catch(e){console.error("Error fetching data",e)}try{const o=await new Promise((t,o)=>{jQuery.ajax({url:e+"/AAuthorized",method:"GET",dataType:"json",success:function(e){t(e)},error:function(e,t,n){o(new Error(t+": "+n))}})});console.log("Fetched Authorization data:",o);var n;if(o&&o.value){o.value.forEach(function(e){if(e.authEmail===t){n=e.authName}})}else{console.log("No data found or invalid response format")}var a=window.location.href;var r=a.indexOf("#");var s=a.substring(r+1);var i;if(s.includes("DepartmentID")){var l=s.match(/DepartmentID='([^']+)'/);if(l&&l[1]){i=l[1]}}console.log("current url",a);console.log("sds");console.log("original hash",r);console.log("sadad",s);console.log("Department id",i);console.log("ndnd");this.base.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Button")||e.isA("sap.m.Input")}).forEach(function(e){if(e.isA("sap.m.Button")){if(e.getId().includes("Create")||e.getId().includes("Delete")||e.getId().includes("Edit")){if(n==="MCA"&&i==="D2"||n==="Owner"){e.setEnabled(true)}else if(n==="cse"&&i==="D1"||n==="Owner"){e.setEnabled(true)}else{e.setEnabled(false)}}}else if(e.isA("sap.m.Input")&&e.getId().includes("DepartmentName")){e.setEnabled(n==="Owner")}})}catch(e){console.error("Error fetching Roll data",e)}try{var c=window.location.href;var u=c.split("#")[1];console.log(u);var d=u.match(/ttuuid=([^,]+)/)[1];console.log(d);const t=await new Promise((t,o)=>{jQuery.ajax({url:`${e}/Teacher(ttuuid=${d},IsActiveEntity=true)`,method:"GET",dataType:"json",success:function(e){t(e)},error:function(e,t,n){console.error("Error fetching role data",e,t,n);o(new Error(t+": "+n))}})});console.log(t);var f;if(t&&t.Status){console.log(t.Status);if(t.Status==="Approved"){f=t.Status;console.log("userRoleapp: ",f)}}else{console.log("No data found or invalid response format")}this.base.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Button")}).forEach(function(e){if(e.getId().includes("Edit")||e.getId().includes("Delete")){if(f==="Approved"&&n==="Owner"){e.setVisible(true);e.setEnabled(true)}else{e.setVisible(false);e.setEnabled(false)}}})}catch(e){console.error("Error fetching role data",e)}}})});
},
	"nwteacher/ext/controller/Tfoot.js":function(){
sap.ui.define(["sap/m/MessageToast"],function(t){"use strict";return{tfoot_meth:function(e){t.show("Custom handler invoked.")}}});
},
	"nwteacher/ext/fragment/Resume.fragment.xml":'<core:FragmentDefinition xmlns:core="sap.ui.core" xmlns="sap.m" xmlns:macros="sap.fe.macros"  xmlns:upload="sap.m.upload" ><VBox id="_IDGenVBox1" core:require="{ handler: \'nwteacher/ext/fragment/Resume\'}"><App id="app"><pages><Page id="page" showHeader="false"><upload:UploadSet\n                    id="uploadSet"\n                    instantUpload="false"\n                    uploadEnabled="true"\n                    afterItemAdded="handler.onAfterItemAdded"\n                     afterItemEdited="handler.onAfterItemEdited"\n                    uploadCompleted="handler.onUploadCompleted"    \n                     beforeItemRemoved="handler.onAfterItemRemoved"          \n                    items="{\n                                path: \'teacherToFiles\',\n                                parameters: {\n                                    $orderby: \'createdAt desc\'\n                                },\n                                templateShareable: false}"\n                                mode ="MultiSelect" ><upload:toolbar><OverflowToolbar id="_IDGenOverflowToolbar1"><ToolbarSpacer id="_IDGenToolbarSpacer1"/><upload:UploadSetToolbarPlaceholder id="_IDGenUploadSetToolbarPlaceholder1" /></OverflowToolbar></upload:toolbar><upload:items><upload:UploadSetItem id="_IDGenUploadSetItem1"\n                                fileName="{fileName}"\n                                mediaType="{mediaType}"\n                                url="{url}"\n                               \n                                openPressed="handler.onOpenPressed"><upload:attributes><ObjectAttribute id="_IDGenObjectAttribute1"\n                                        title="Uploaded By"\n                                        text="{createdBy}"\n                                        active="true"/><ObjectAttribute id="_IDGenObjectAttribute2"\n                                        title="Uploaded on"\n                                        text="{createdAt}"\n                                        active="true"/><ObjectAttribute id="_IDGenObjectAttribute3"\n                                        title="File Size"\n                                        text="{size}"\n                                        active="true"/></upload:attributes></upload:UploadSetItem></upload:items></upload:UploadSet></Page></pages></App></VBox></core:FragmentDefinition>\n',
	"nwteacher/ext/fragment/Resume.js":function(){
sap.ui.define(["sap/m/MessageToast"],function(e){"use strict";var t;return{onAfterItemAdded:function(e){var t=e.getSource().getParent();var r=t.getBindingContext().getProperty("ttuuid");debugger;var o=e.getParameter("item");var a=e.oSource.getModel().getServiceUrl();var i=/Teacher.*$/;var s=window.location.href.match(i);if(s){var l=s[0]}var n={mediaType:o.getMediaType(),fileName:o.getFileName(),size:o.getFileObject().size,ttuuid:r};var c=window.location.href.split("#")[1];var u={url:a+l+"/teacherToFiles",method:"POST",headers:{"Content-type":"application/json"},data:JSON.stringify(n)};new Promise((e,t)=>{$.ajax(u).done((t,r,o)=>{e(t.ID)}).fail(e=>{t(e)})}).then(e=>{var t=a+`Files(ID=${e},IsActiveEntity=false)/content`;var r=this.byId("uploadSet");o.setUrl(t);r.setUploadUrl(t);r.setHttpRequestMethod("PUT");r.uploadItem(o)}).catch(e=>{console.log(e)})},onUploadCompleted:function(t){var r=this.byId("uploadSet");r.removeAllIncompleteItems();e.show("Uploaded successfully!")},onOpenPressed:async function(e){debugger;var t=e.oSource.getModel().getServiceUrl();var r;if(e.oSource.mProperties.url.substring(0,6)==="/Files"){r=t+e.oSource.mProperties.url.substring(1)}if(r){e.oSource.mProperties.url=r}},onAfterItemRemoved:async function(e){debugger;var t=e.oSource.getModel().getServiceUrl();const r=/^(.*?),IsActiveEntity=/;let o=e.mParameters.item.mProperties.url.match(r);let a=o[1]+",IsActiveEntity=false)";a=a.replace(/^.*\/Files/,"/Files");$.ajax({url:t+a,method:"DELETE"})},onAfterItemEdited:async function(e){debugger;var t=e.oSource.getModel().getServiceUrl();const r=/^(.*?),IsActiveEntity=/;let o=e.mParameters.item.mProperties.url.match(r);let a=o[1]+",IsActiveEntity=false) ";a=a.replace(/^.*\/Files/,"/Files");let i={fileName:e.getParameter("item").getFileName()};$.ajax({url:t+a,method:"PATCH",contentType:"application/json",data:JSON.stringify(i),success:function(e){console.log("Update successful:",e)},error:function(e){console.error("Update failed:",e)}})}}});
},
	"nwteacher/i18n/i18n.properties":'# This is the resource bundle for nwteacher\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=nwteacherapp\n\n#YDES: Application description\nappDescription=An SAP Fiori application.\n\n#XFLD,42\nflpTitle=nwteacherappli\n\n#XFLD,42\nflpTitle=nwteacherappli\n\n#XFLD,24\nflpSubtitle=subtitle\n\n#XFLD,42\nflpTitle=nwteacherappli\n\n#XFLD,24\nflpSubtitle=subtitle\n\n#XFLD,39\nflpTitle=newteacherapp\n\n#XFLD,24\nflpSubtitle=subtitle\n\n#XFLD,42\nflpTitle=newteacherapp1\n\n#XFLD,24\nflpSubtitle=subtitle\n',
	"nwteacher/manifest.json":'{"_version":"1.59.0","sap.app":{"id":"nwteacher","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"0.0.1"},"title":"Teachers List of COE","description":"List of Teachers","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:lrop","version":"1.14.2","toolsId":"e8d00387-fc75-47aa-8bb8-5ff232a5e3bd"},"dataSources":{"mainService":{"uri":"odata/v4/my/","type":"OData","settings":{"annotations":[],"odataVersion":"4.0"}}},"crossNavigation":{"inbounds":{"nwteacherr-display":{"semanticObject":"nwteacherr","action":"display","title":"{{flpTitle}}","signature":{"parameters":{},"additionalParameters":"allowed"}},"teacherapp-display":{"semanticObject":"teacherapp","action":"display","title":"{{flpTitle}}","subTitle":"{{flpSubtitle}}","signature":{"parameters":{},"additionalParameters":"allowed"}},"nwteacherapp1-display":{"semanticObject":"nwteacherapp1","action":"display","title":"{{flpTitle}}","subTitle":"{{flpSubtitle}}","signature":{"parameters":{},"additionalParameters":"allowed"}},"nwteacher-display":{"semanticObject":"nwteacher","action":"display","title":"{{flpTitle}}","subTitle":"{{flpSubtitle}}","signature":{"parameters":{},"additionalParameters":"allowed"}},"newteacher1-display":{"semanticObject":"newteacher1","action":"display","title":"{{flpTitle}}","subTitle":"{{flpSubtitle}}","signature":{"parameters":{},"additionalParameters":"allowed"}}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"dependencies":{"minUI5Version":"1.126.2","libs":{"sap.m":{},"sap.ui.core":{},"sap.ushell":{},"sap.fe.templates":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"nwteacher.i18n.i18n"}},"":{"dataSource":"mainService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"@i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"i18n/i18n.properties"}},"resources":{"css":[]},"routing":{"config":{},"routes":[{"pattern":":?query:","name":"TeacherList","target":"TeacherList"},{"pattern":"Teacher({key}):?query:","name":"TeacherObjectPage","target":"TeacherObjectPage"}],"targets":{"TeacherList":{"type":"Component","id":"TeacherList","name":"sap.fe.templates.ListReport","options":{"settings":{"contextPath":"/Teacher","variantManagement":"None","navigation":{"Teacher":{"detail":{"route":"TeacherObjectPage"}}},"controlConfiguration":{"@com.sap.vocabularies.UI.v1.LineItem":{"tableSettings":{"type":"ResponsiveTable"}}},"initialLoad":"Enabled","views":{"paths":[{"key":"tableView","annotationPath":"com.sap.vocabularies.UI.v1.SelectionPresentationVariant#tableView"},{"key":"tableView1","annotationPath":"com.sap.vocabularies.UI.v1.SelectionPresentationVariant#tableView1"},{"key":"tableView2","annotationPath":"com.sap.vocabularies.UI.v1.SelectionPresentationVariant#tableView2"}]}}}},"TeacherObjectPage":{"type":"Component","id":"TeacherObjectPage","name":"sap.fe.templates.ObjectPage","options":{"settings":{"editableHeaderContent":false,"contextPath":"/Teacher","variantManagement":"None","content":{"footer":{"actions":{"obj4":{"press":"nwteacher.ext.controller.Tfoot.tfoot_meth","visible":true,"enabled":true,"text":"COE | @COPYRIGHT | 2024 | CONTACT US"}}},"body":{"sections":{"Resume":{"template":"nwteacher.ext.fragment.Resume","position":{"placement":"After","anchor":"GeneratedFacet1"},"title":"MyResume"}}}}}}}}},"extends":{"extensions":{"sap.ui.controllerExtensions":{"sap.fe.templates.ListReport.ListReportController":{"controllerName":"nwteacher.ext.controller.MainTeacherContro"},"sap.fe.templates.ObjectPage.ObjectPageController#nwteacher::TeacherObjectPage":{"controllerName":"nwteacher.ext.controller.TeachObjContr"}}}}},"sap.fiori":{"registrationIds":[],"archeType":"transactional"},"sap.cloud":{"public":true,"service":"collegeteachapp"}}'
});
//# sourceMappingURL=Component-preload.js.map
